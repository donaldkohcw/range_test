Firmware development for ESP32-based devices using ESP-IDF



Time (ms)  | Event
-----------|--------------------------------------------------------------
0          | System starts, enters deep sleep
           | --------------------------------------------------------------
           | |                          Deep Sleep                         |
           | --------------------------------------------------------------
           | 
           | GPIO10 (Button) is not pressed
           | --------------------------------------------------------------
           | |                                                              |
           | --------------------------------------------------------------
           | 
           | System wakes up from deep sleep due to timer (2 minutes)
120000     | System wakes up, checks wakeup reason
           | --------------------------------------------------------------
           | |                          Active    Sensor Task               |
           | --------------------------------------------------------------
           | 
           | GPIO10 (Button) is pressed
           | --------------------------------------------------------------
           | |-------------------|                                          |
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | --------------------------------------------------------------
           | 
           | Button press detected, starting button timer
           | --------------------------------------------------------------
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | --------------------------------------------------------------
           | 
           | Button held for 5 seconds, entering OTA mode
           | --------------------------------------------------------------
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | --------------------------------------------------------------
           | 
           | OTA mode active, starting OTA task
           | --------------------------------------------------------------
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | --------------------------------------------------------------
           | 
           | OTA task completes, system restarts
           | --------------------------------------------------------------
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | |                   |                                          |
           | --------------------------------------------------------------
           | 
           | System restarts, enters deep sleep again
           | --------------------------------------------------------------
           | |                          Deep Sleep                         |
           | --------------------------------------------------------------
